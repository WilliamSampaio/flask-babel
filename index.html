<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>Flask-Babel 4.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">Flask-Babel 4.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  
  
  <span class="sidebar-brand-text">Flask-Babel 4.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  
</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="module-flask_babel">
<span id="flask-babel"></span><h1>Flask-Babel<a class="headerlink" href="#module-flask_babel" title="Permalink to this heading">#</a></h1>
<p>Flask-Babel is an extension to <a class="reference external" href="https://palletsprojects.com/p/flask/">Flask</a> that adds i18n and l10n support to
any Flask application with the help of <a class="reference external" href="https://babel.pocoo.org/en/latest/">babel</a>, <a class="reference external" href="https://pythonhosted.org/pytz/">pytz</a> and its own copy of
<a class="reference external" href="https://pypi.python.org/pypi/speaklater">speaklater</a>.  It has built-in support for date formatting including timezones,
as well as a very simple and friendly interface to <code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code>
translations.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">#</a></h2>
<p>Install the extension from PyPi:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install Flask-Babel
</pre></div>
</div>
<p>Please note that Flask-Babel requires Jinja &gt;=2.5.  If you are using an
older version you will have to upgrade or disable the Jinja support
(see configuration).</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">#</a></h2>
<p>To get started all you need to do is to instantiate a <a class="reference internal" href="#flask_babel.Babel" title="flask_babel.Babel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Babel</span></code></a>
object after configuring the application:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">Babel</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">babel</span> <span class="o">=</span> <span class="n">Babel</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>To disable jinja support, include <code class="docutils literal notranslate"><span class="pre">configure_jinja=False</span></code> in the Babel
constructor call. The babel object itself can be used to configure the babel
support further. Babel has the following configuration values that can be used
to change some internal defaults:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><cite>BABEL_DEFAULT_LOCALE</cite></p></td>
<td><p>The default locale to use if no locale
selector is registered.  This defaults
to <code class="docutils literal notranslate"><span class="pre">'en'</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><cite>BABEL_DEFAULT_TIMEZONE</cite></p></td>
<td><p>The timezone to use for user facing dates.
This defaults to <code class="docutils literal notranslate"><span class="pre">'UTC'</span></code> which also is the
timezone your application must use internally.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>BABEL_TRANSLATION_DIRECTORIES</cite></p></td>
<td><p>A semi-colon (<code class="docutils literal notranslate"><span class="pre">;</span></code>) separated string of
absolute and relative (to the <cite>root_path</cite> of
the application object) paths to translation
folders. Defaults to <code class="docutils literal notranslate"><span class="pre">translations</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><cite>BABEL_DOMAIN</cite></p></td>
<td><p>The message domain used by the application.
Defaults to <code class="docutils literal notranslate"><span class="pre">messages</span></code>.</p>
<p>It can also be a semi-colon (<code class="docutils literal notranslate"><span class="pre">;</span></code>) separated
string of different domains for each of the
translation directories, eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BABEL_TRANSLATION_DIRECTORIES</span><span class="o">=/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">translations</span><span class="p">;</span><span class="o">/</span><span class="n">another</span><span class="o">/</span><span class="n">path</span><span class="o">/</span>
<span class="n">BABEL_DOMAIN</span><span class="o">=</span><span class="n">messages</span><span class="p">;</span><span class="n">myapp</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<p>For more complex applications you might want to have multiple applications
for different users which is where selector functions come in handy. The
first time the babel extension needs the locale (locale code/ID) of the
current user it will call a <code class="xref py py-meth docutils literal notranslate"><span class="pre">localeselector()</span></code> function, and
the first time the timezone is needed it will call a
<code class="xref py py-meth docutils literal notranslate"><span class="pre">timezoneselector()</span></code> function.</p>
<p>If any of these methods return <cite>None</cite> the extension will automatically
fall back to what’s in the config.  Furthermore for efficiency that
function is called only once and the return value then cached.  If you
need to switch the language between a request, you can <a class="reference internal" href="#flask_babel.refresh" title="flask_babel.refresh"><code class="xref py py-func docutils literal notranslate"><span class="pre">refresh()</span></code></a> the
cache.</p>
<p>Example selector functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">g</span><span class="p">,</span> <span class="n">request</span>

<span class="k">def</span> <span class="nf">get_locale</span><span class="p">():</span>
    <span class="c1"># if a user is logged in, use the locale from the user settings</span>
    <span class="n">user</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">locale</span>
    <span class="c1"># otherwise try to guess the language from the user accept</span>
    <span class="c1"># header the browser transmits.  We support de/fr/en in this</span>
    <span class="c1"># example.  The best match wins.</span>
    <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">accept_languages</span><span class="o">.</span><span class="n">best_match</span><span class="p">([</span><span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;fr&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">])</span>

<span class="k">def</span> <span class="nf">get_timezone</span><span class="p">():</span>
    <span class="n">user</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">timezone</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">babel</span> <span class="o">=</span> <span class="n">Babel</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">locale_selector</span><span class="o">=</span><span class="n">get_locale</span><span class="p">,</span> <span class="n">timezone_selector</span><span class="o">=</span><span class="n">get_timezone</span><span class="p">)</span>
</pre></div>
</div>
<p>The example above assumes that the current user is stored on the
<code class="xref py py-data docutils literal notranslate"><span class="pre">flask.g</span></code> object.</p>
</section>
<section id="jinja-filters">
<h2>Jinja Filters<a class="headerlink" href="#jinja-filters" title="Permalink to this heading">#</a></h2>
<p>Several commonly used formatters are added as jinja template filters after
calling <cite>init_app().</cite> For dates and times, these are:</p>
<ul class="simple">
<li><p><cite>&lt;datetime&gt;|datetimeformat</cite> -&gt; <cite>format_datetime</cite></p></li>
<li><p><cite>&lt;date&gt;|dateformat</cite> -&gt; <cite>format_date</cite></p></li>
<li><p><cite>&lt;time&gt;|timeformat</cite> -&gt; <cite>format_time</cite></p></li>
<li><p><cite>&lt;timedelta&gt;|timedeltaformat</cite> -&gt; <cite>format_timedelta</cite></p></li>
</ul>
<p>And for numbers, these are:</p>
<ul class="simple">
<li><p><cite>&lt;number&gt;|numberformat</cite> -&gt; <cite>format_number</cite></p></li>
<li><p><cite>&lt;number&gt;|decimalformat</cite> -&gt; <cite>format_decimal</cite></p></li>
<li><p><cite>&lt;number&gt;|currencyformat</cite> -&gt; <cite>format_currency</cite></p></li>
<li><p><cite>&lt;number&gt;|percentformat</cite> -&gt; <cite>format_percent</cite></p></li>
<li><p><cite>&lt;number&gt;|scientificformat</cite> -&gt; <cite>format_scientific</cite></p></li>
</ul>
</section>
<section id="formatting-dates">
<h2>Formatting Dates<a class="headerlink" href="#formatting-dates" title="Permalink to this heading">#</a></h2>
<p>To format dates you can use the <a class="reference internal" href="#flask_babel.format_datetime" title="flask_babel.format_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_datetime()</span></code></a>,
<a class="reference internal" href="#flask_babel.format_date" title="flask_babel.format_date"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_date()</span></code></a>, <a class="reference internal" href="#flask_babel.format_time" title="flask_babel.format_time"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_time()</span></code></a> and <a class="reference internal" href="#flask_babel.format_timedelta" title="flask_babel.format_timedelta"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_timedelta()</span></code></a>
functions.  They all accept a <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code> (or
<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.date</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.time</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code>) object as first parameter and then optionally
a format string.  The application should use naive datetime objects
internally that use UTC as timezone.  On formatting it will automatically
convert into the user’s timezone in case it differs from UTC.</p>
<p>To play with the date formatting from the console, you can use the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">test_request_context()</span></code> method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">test_request_context</span><span class="p">()</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
</pre></div>
</div>
<p>Here some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">format_datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_datetime</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1987</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="go">u&#39;Mar 5, 1987 5:12:00 PM&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_datetime</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1987</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="s1">&#39;full&#39;</span><span class="p">)</span>
<span class="go">u&#39;Thursday, March 5, 1987 5:12:00 PM World (GMT) Time&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_datetime</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1987</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="s1">&#39;short&#39;</span><span class="p">)</span>
<span class="go">u&#39;3/5/87 5:12 PM&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_datetime</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1987</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="s1">&#39;dd mm yyy&#39;</span><span class="p">)</span>
<span class="go">u&#39;05 12 1987&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_datetime</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1987</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="s1">&#39;dd mm yyyy&#39;</span><span class="p">)</span>
<span class="go">u&#39;05 12 1987&#39;</span>
</pre></div>
</div>
<p>And again with a different language:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;BABEL_DEFAULT_LOCALE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;de&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">refresh</span><span class="p">;</span> <span class="n">refresh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_datetime</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1987</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="s1">&#39;EEEE, d. MMMM yyyy H:mm&#39;</span><span class="p">)</span>
<span class="go">u&#39;Donnerstag, 5. M\xe4rz 1987 17:12&#39;</span>
</pre></div>
</div>
<p>For more format examples head over to the <a class="reference external" href="https://babel.pocoo.org/en/latest/">babel</a> documentation.</p>
</section>
<section id="formatting-numbers">
<h2>Formatting Numbers<a class="headerlink" href="#formatting-numbers" title="Permalink to this heading">#</a></h2>
<p>To format numbers you can use the <a class="reference internal" href="#flask_babel.format_number" title="flask_babel.format_number"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_number()</span></code></a>,
<a class="reference internal" href="#flask_babel.format_decimal" title="flask_babel.format_decimal"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_decimal()</span></code></a>, <a class="reference internal" href="#flask_babel.format_currency" title="flask_babel.format_currency"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_currency()</span></code></a>, <a class="reference internal" href="#flask_babel.format_percent" title="flask_babel.format_percent"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_percent()</span></code></a> and <a class="reference internal" href="#flask_babel.format_scientific" title="flask_babel.format_scientific"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_scientific()</span></code></a>
functions.</p>
<p>To play with the date formatting from the console, you can use the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">test_request_context()</span></code> method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">test_request_context</span><span class="p">()</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
</pre></div>
</div>
<p>Here are some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">format_number</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_number</span><span class="p">(</span><span class="mi">1099</span><span class="p">)</span>
<span class="go">&#39;1,099&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">format_decimal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimal</span><span class="p">(</span><span class="mf">1.2346</span><span class="p">)</span>
<span class="go">u&#39;1.235&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">format_currency</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_currency</span><span class="p">(</span><span class="mf">1099.98</span><span class="p">,</span> <span class="s1">&#39;USD&#39;</span><span class="p">)</span>
<span class="go">&#39;$1,099.98&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">format_percent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_percent</span><span class="p">(</span><span class="mf">0.34</span><span class="p">)</span>
<span class="go">&#39;34%&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">format_scientific</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_scientific</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="go">&#39;1E4&#39;</span>
</pre></div>
</div>
<p>And again with a different language:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;BABEL_DEFAULT_LOCALE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;de&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">refresh</span><span class="p">;</span> <span class="n">refresh</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_number</span><span class="p">(</span><span class="mi">1099</span><span class="p">)</span>
<span class="go">&#39;1.099&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimal</span><span class="p">(</span><span class="mf">1.2346</span><span class="p">)</span>
<span class="go">&#39;1,235&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_currency</span><span class="p">(</span><span class="mf">1099.98</span><span class="p">,</span> <span class="s1">&#39;USD&#39;</span><span class="p">)</span>
<span class="go">&#39;1.099,98\xa0$&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_percent</span><span class="p">(</span><span class="mf">0.34</span><span class="p">)</span>
<span class="go">&#39;34\xa0%&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_scientific</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="go">&#39;1E4&#39;</span>
</pre></div>
</div>
<p>For more format examples head over to the <a class="reference external" href="https://babel.pocoo.org/en/latest/">babel</a> documentation.</p>
</section>
<section id="using-translations">
<h2>Using Translations<a class="headerlink" href="#using-translations" title="Permalink to this heading">#</a></h2>
<p>The other big part next to date formatting are translations.  For that,
Flask uses <code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code> together with Babel.  The idea of gettext is
that you can mark certain strings as translatable and a tool will pick all
those up, collect them in a separate file for you to translate.  At
runtime the original strings (which should be English) will be replaced by
the language you selected.</p>
<p>There are two functions responsible for translating: <a class="reference internal" href="#flask_babel.gettext" title="flask_babel.gettext"><code class="xref py py-func docutils literal notranslate"><span class="pre">gettext()</span></code></a> and
<a class="reference internal" href="#flask_babel.ngettext" title="flask_babel.ngettext"><code class="xref py py-func docutils literal notranslate"><span class="pre">ngettext()</span></code></a>.  The first to translate singular strings and the second
to translate strings that might become plural.  Here some examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">gettext</span><span class="p">,</span> <span class="n">ngettext</span>

<span class="n">gettext</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;A simple string&#39;</span><span class="p">)</span>
<span class="n">gettext</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;Value: </span><span class="si">%(value)s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">ngettext</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;</span><span class="si">%(num)s</span><span class="s1"> Apple&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;</span><span class="si">%(num)s</span><span class="s1"> Apples&#39;</span><span class="p">,</span> <span class="n">number_of_apples</span><span class="p">)</span>
</pre></div>
</div>
<p>Additionally if you want to use constant strings somewhere in your
application and define them outside of a request, you can use a lazy
strings.  Lazy strings will not be evaluated until they are actually used.
To use such a lazy string, use the <a class="reference internal" href="#flask_babel.lazy_gettext" title="flask_babel.lazy_gettext"><code class="xref py py-func docutils literal notranslate"><span class="pre">lazy_gettext()</span></code></a> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask_babel</span> <span class="kn">import</span> <span class="n">lazy_gettext</span>

<span class="k">class</span> <span class="nc">MyForm</span><span class="p">(</span><span class="n">formlibrary</span><span class="o">.</span><span class="n">FormBase</span><span class="p">):</span>
    <span class="n">success_message</span> <span class="o">=</span> <span class="n">lazy_gettext</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;The form was successfully saved.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>So how does Flask-Babel find the translations?  Well first you have to
create some.  Here is how you do it:</p>
</section>
<section id="translating-applications">
<h2>Translating Applications<a class="headerlink" href="#translating-applications" title="Permalink to this heading">#</a></h2>
<p>First you need to mark all the strings you want to translate in your
application with <a class="reference internal" href="#flask_babel.gettext" title="flask_babel.gettext"><code class="xref py py-func docutils literal notranslate"><span class="pre">gettext()</span></code></a> or <a class="reference internal" href="#flask_babel.ngettext" title="flask_babel.ngettext"><code class="xref py py-func docutils literal notranslate"><span class="pre">ngettext()</span></code></a>.  After that, it’s
time to create a <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file.  A <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file contains all the strings
and is the template for a <code class="docutils literal notranslate"><span class="pre">.po</span></code> file which contains the translated
strings.  Babel can do all that for you.</p>
<p>First of all you have to create a mapping file. For typical Flask applications,
this is what you want in there:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[python: **.py]</span>
<span class="k">[jinja2: **/templates/**.html]</span>
</pre></div>
</div>
<p>Save it as <code class="docutils literal notranslate"><span class="pre">babel.cfg</span></code> or something similar next to your application.
Then it’s time to run the <cite>pybabel</cite> command that comes with Babel to
extract your strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pybabel extract -F babel.cfg -o messages.pot .
</pre></div>
</div>
<p>If you are using the <a class="reference internal" href="#flask_babel.lazy_gettext" title="flask_babel.lazy_gettext"><code class="xref py py-func docutils literal notranslate"><span class="pre">lazy_gettext()</span></code></a> function you should tell pybabel
that it should also look for such function calls:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pybabel extract -F babel.cfg -k lazy_gettext -o messages.pot .
</pre></div>
</div>
<p>This will use the mapping from the <code class="docutils literal notranslate"><span class="pre">babel.cfg</span></code> file and store the
generated template in <code class="docutils literal notranslate"><span class="pre">messages.pot</span></code>.  Now we can create the first
translation.  For example to translate to German use this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pybabel init -i messages.pot -d translations -l de
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">translations</span></code> tells pybabel to store the translations in a directory
called “translations”.  This is the default folder where Flask-Babel will look
for translations unless you changed <cite>BABEL_TRANSLATION_DIRECTORIES</cite> and should
be at the root of your application.</p>
<p>Now edit the <code class="docutils literal notranslate"><span class="pre">translations/de/LC_MESSAGES/messages.po</span></code> file as needed.
Check out some gettext tutorials if you feel lost.</p>
<p>To compile the translations for use, <code class="docutils literal notranslate"><span class="pre">pybabel</span></code> helps again:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pybabel compile -d translations
</pre></div>
</div>
<p>What if the strings change?  Create a new <code class="docutils literal notranslate"><span class="pre">messages.pot</span></code> like above and
then let <code class="docutils literal notranslate"><span class="pre">pybabel</span></code> merge the changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pybabel update -i messages.pot -d translations
</pre></div>
</div>
<p>Afterwards some strings might be marked as fuzzy (where it tried to figure
out if a translation matched a changed key).  If you have fuzzy entries,
make sure to check them by hand and remove the fuzzy flag before
compiling.</p>
</section>
<section id="reloading-translations">
<h2>Reloading Translations<a class="headerlink" href="#reloading-translations" title="Permalink to this heading">#</a></h2>
<p>The compiled translations will only be loaded initially. This means you have
to restart the server whenever you compile translations and want to see
those changes. To automatically reload translations you can tell the reloader
to watch the compiled <code class="docutils literal notranslate"><span class="pre">.mo</span></code> files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ flask run --extra-files app/translations/en_GB/LC_MESSAGES/messages.mo
# or
$ export FLASK_RUN_EXTRA_FILES=app/translations/en_GB/LC_MESSAGES/messages.mo
$ flask run
</pre></div>
</div>
<p>See <a class="reference external" href="https://flask.palletsprojects.com/en/1.1.x/cli/#watch-extra-files-with-the-reloader">reloader</a> for more details.</p>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this heading">#</a></h2>
<p>On Snow Leopard pybabel will most likely fail with an exception.  If this
happens, check if this command outputs UTF-8:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ echo $LC_CTYPE
UTF-8
</pre></div>
</div>
<p>This is a OS X bug unfortunately.  To fix it, put the following lines into
your <code class="docutils literal notranslate"><span class="pre">~/.profile</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">LC_CTYPE</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="n">utf</span><span class="o">-</span><span class="mi">8</span>
</pre></div>
</div>
<p>Then restart your terminal.</p>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this heading">#</a></h2>
<p>This part of the documentation documents each and every public class or
function from Flask-Babel.</p>
<section id="id1">
<h3>Configuration<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="flask_babel.Babel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">Babel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_formats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configure_jinja</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#Babel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.Babel" title="Permalink to this definition">#</a></dt>
<dd><p>Central controller class that can be used to configure how
Flask-Babel behaves.  Each application that wants to use Flask-Babel
has to create, or run <a class="reference internal" href="#flask_babel.Babel.init_app" title="flask_babel.Babel.init_app"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_app()</span></code></a> on, an instance of this class
after the configuration was initialized.</p>
<dl class="py property">
<dt class="sig sig-object py" id="flask_babel.Babel.default_locale">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_locale</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Locale</span></em><a class="headerlink" href="#flask_babel.Babel.default_locale" title="Permalink to this definition">#</a></dt>
<dd><p>The default locale from the configuration as an instance of a
<cite>babel.Locale</cite> object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flask_babel.Babel.default_timezone">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_timezone</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">timezone</span></em><a class="headerlink" href="#flask_babel.Babel.default_timezone" title="Permalink to this definition">#</a></dt>
<dd><p>The default timezone from the configuration as an instance of a
<cite>pytz.timezone</cite> object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flask_babel.Babel.domain">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#flask_babel.Babel.domain" title="Permalink to this definition">#</a></dt>
<dd><p>The message domain for the translations as a string.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flask_babel.Babel.domain_instance">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">domain_instance</span></span><a class="reference internal" href="_modules/flask_babel.html#Babel.domain_instance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.Babel.domain_instance" title="Permalink to this definition">#</a></dt>
<dd><p>The message domain for the translations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flask_babel.Babel.init_app">
<span class="sig-name descname"><span class="pre">init_app</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'messages'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_translation_directories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'translations'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'UTC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale_selector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone_selector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#Babel.init_app"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.Babel.init_app" title="Permalink to this definition">#</a></dt>
<dd><p>Initializes the Babel instance for use with this specific application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>app</strong> – The application to configure</p></li>
<li><p><strong>default_locale</strong> – The default locale to use for this application</p></li>
<li><p><strong>default_domain</strong> – The default domain to use for this application</p></li>
<li><p><strong>default_translation_directories</strong> – The default translation
directories to use for this
application</p></li>
<li><p><strong>default_timezone</strong> – The default timezone to use for this
application</p></li>
<li><p><strong>locale_selector</strong> – The function to use to select the locale
for a request</p></li>
<li><p><strong>timezone_selector</strong> – The function to use to select the
timezone for a request</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flask_babel.Babel.list_translations">
<span class="sig-name descname"><span class="pre">list_translations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#Babel.list_translations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.Babel.list_translations" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a list of all the locales translations exist for. The list
returned will be filled with actual locale objects and not just strings.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default locale will always be returned, even if no translation
files exist for it.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.6.</span></p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="context-functions">
<h3>Context Functions<a class="headerlink" href="#context-functions" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.get_translations">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">get_translations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Translations</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">NullTranslations</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/flask_babel.html#get_translations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.get_translations" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the correct gettext translations that should be used for
this request.  This will never fail and return a dummy translation
object if used outside the request or if a translation cannot be found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.get_locale">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">get_locale</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Locale</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/flask_babel.html#get_locale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.get_locale" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the locale that should be used for this request as
<cite>babel.Locale</cite> object.  This returns <cite>None</cite> if used outside a request.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.get_timezone">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">get_timezone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">timezone</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/flask_babel.html#get_timezone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.get_timezone" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the timezone that should be used for this request as
a <cite>pytz.timezone</cite> object.  This returns <cite>None</cite> if used outside a request.</p>
</dd></dl>

</section>
<section id="datetime-functions">
<h3>Datetime Functions<a class="headerlink" href="#datetime-functions" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.to_user_timezone">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">to_user_timezone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#to_user_timezone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.to_user_timezone" title="Permalink to this definition">#</a></dt>
<dd><p>Convert a datetime object to the user’s timezone.  This automatically
happens on all date formatting unless rebasing is disabled.  If you need
to convert a <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code> object at any time to the user’s
timezone (as returned by <a class="reference internal" href="#flask_babel.get_timezone" title="flask_babel.get_timezone"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_timezone()</span></code></a>) this function can be used.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.to_utc">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">to_utc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#to_utc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.to_utc" title="Permalink to this definition">#</a></dt>
<dd><p>Convert a datetime object to UTC and drop tzinfo.  This is the
opposite operation to <a class="reference internal" href="#flask_babel.to_user_timezone" title="flask_babel.to_user_timezone"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_user_timezone()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.format_datetime">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">format_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rebase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#format_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.format_datetime" title="Permalink to this definition">#</a></dt>
<dd><p>Return a date formatted according to the given pattern.  If no
<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code> object is passed, the current time is
assumed.  By default, rebasing happens, which causes the object to
be converted to the user’s timezone (as returned by
<a class="reference internal" href="#flask_babel.to_user_timezone" title="flask_babel.to_user_timezone"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_user_timezone()</span></code></a>).  This function formats both date and
time.</p>
<p>The format parameter can either be <code class="docutils literal notranslate"><span class="pre">'short'</span></code>, <code class="docutils literal notranslate"><span class="pre">'medium'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'long'</span></code> or <code class="docutils literal notranslate"><span class="pre">'full'</span></code> (in which case the language’s default for
that setting is used, or the default from the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Babel.date_formats</span></code>
mapping is used) or a format string as documented by Babel.</p>
<p>This function is also available in the template context as filter
named <cite>datetimeformat</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.format_date">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">format_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rebase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#format_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.format_date" title="Permalink to this definition">#</a></dt>
<dd><p>Return a date formatted according to the given pattern.  If no
<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code> object is passed,
the current time is assumed.  By default, rebasing happens, which causes
the object to be converted to the users’s timezone (as returned by
<a class="reference internal" href="#flask_babel.to_user_timezone" title="flask_babel.to_user_timezone"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_user_timezone()</span></code></a>).  This function only formats the date part
of a <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code> object.</p>
<p>The format parameter can either be <code class="docutils literal notranslate"><span class="pre">'short'</span></code>, <code class="docutils literal notranslate"><span class="pre">'medium'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'long'</span></code> or <code class="docutils literal notranslate"><span class="pre">'full'</span></code> (in which case the language’s default for
that setting is used, or the default from the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Babel.date_formats</span></code>
mapping is used) or a format string as documented by Babel.</p>
<p>This function is also available in the template context as filter
named <cite>dateformat</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.format_time">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">format_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rebase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#format_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.format_time" title="Permalink to this definition">#</a></dt>
<dd><p>Return a time formatted according to the given pattern.  If no
<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code> object is passed, the current time is
assumed.  By default, rebasing happens, which causes the object to
be converted to the user’s timezone (as returned by
<a class="reference internal" href="#flask_babel.to_user_timezone" title="flask_babel.to_user_timezone"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_user_timezone()</span></code></a>).  This function formats both date and time.</p>
<p>The format parameter can either be <code class="docutils literal notranslate"><span class="pre">'short'</span></code>, <code class="docutils literal notranslate"><span class="pre">'medium'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'long'</span></code> or <code class="docutils literal notranslate"><span class="pre">'full'</span></code> (in which case the language’s default for
that setting is used, or the default from the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Babel.date_formats</span></code>
mapping is used) or a format string as documented by Babel.</p>
<p>This function is also available in the template context as filter
named <cite>timeformat</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.format_timedelta">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">format_timedelta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime_or_timedelta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'second'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.85</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#format_timedelta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.format_timedelta" title="Permalink to this definition">#</a></dt>
<dd><p>Format the elapsed time from the given date to now or the given
timedelta.</p>
<p>This function is also available in the template context as filter
named <cite>timedeltaformat</cite>.</p>
</dd></dl>

</section>
<section id="number-functions">
<h3>Number Functions<a class="headerlink" href="#number-functions" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.format_number">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">format_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/flask_babel.html#format_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.format_number" title="Permalink to this definition">#</a></dt>
<dd><p>Return the given number formatted for the locale in request</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>number</strong> – the number to format</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the formatted number</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>unicode</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.format_decimal">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">format_decimal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/flask_babel.html#format_decimal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.format_decimal" title="Permalink to this definition">#</a></dt>
<dd><p>Return the given decimal number formatted for the locale in the request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> – the number to format</p></li>
<li><p><strong>format</strong> – the format to use</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the formatted number</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>unicode</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.format_currency">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">format_currency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currency_digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'standard'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/flask_babel.html#format_currency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.format_currency" title="Permalink to this definition">#</a></dt>
<dd><p>Return the given number formatted for the locale in the request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> – the number to format</p></li>
<li><p><strong>currency</strong> – the currency code</p></li>
<li><p><strong>format</strong> – the format to use</p></li>
<li><p><strong>currency_digits</strong> – use the currency’s number of decimal digits
[default: True]</p></li>
<li><p><strong>format_type</strong> – the currency format type to use
[default: standard]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the formatted number</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>unicode</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.format_percent">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">format_percent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/flask_babel.html#format_percent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.format_percent" title="Permalink to this definition">#</a></dt>
<dd><p>Return formatted percent value for the locale in the request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> – the number to format</p></li>
<li><p><strong>format</strong> – the format to use</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the formatted percent number</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>unicode</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.format_scientific">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">format_scientific</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/flask_babel.html#format_scientific"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.format_scientific" title="Permalink to this definition">#</a></dt>
<dd><p>Return value formatted in scientific notation for the locale in request</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> – the number to format</p></li>
<li><p><strong>format</strong> – the format to use</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the formatted percent number</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>unicode</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="gettext-functions">
<h3>Gettext Functions<a class="headerlink" href="#gettext-functions" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.gettext">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">gettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/flask_babel.html#gettext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.gettext" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.ngettext">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">ngettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/flask_babel.html#ngettext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.ngettext" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.pgettext">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">pgettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/flask_babel.html#pgettext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.pgettext" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.npgettext">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">npgettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/flask_babel.html#npgettext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.npgettext" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.lazy_gettext">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">lazy_gettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">LazyString</span></span></span><a class="reference internal" href="_modules/flask_babel.html#lazy_gettext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.lazy_gettext" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.lazy_pgettext">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">lazy_pgettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">LazyString</span></span></span><a class="reference internal" href="_modules/flask_babel.html#lazy_pgettext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.lazy_pgettext" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.lazy_npgettext">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">lazy_npgettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">LazyString</span></span></span><a class="reference internal" href="_modules/flask_babel.html#lazy_npgettext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.lazy_npgettext" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="low-level-api">
<h3>Low-Level API<a class="headerlink" href="#low-level-api" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.refresh">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">refresh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#refresh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.refresh" title="Permalink to this definition">#</a></dt>
<dd><p>Refreshes the cached timezones and locale information.  This can
be used to switch a translation between a request and if you want
the changes to take place immediately, not just with the next request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">.</span><span class="n">timezone</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s1">&#39;timezone&#39;</span><span class="p">]</span>
<span class="n">user</span><span class="o">.</span><span class="n">locale</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s1">&#39;locale&#39;</span><span class="p">]</span>
<span class="n">refresh</span><span class="p">()</span>
<span class="n">flash</span><span class="p">(</span><span class="n">gettext</span><span class="p">(</span><span class="s1">&#39;Language was changed&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Without that refresh, the <code class="xref py py-func docutils literal notranslate"><span class="pre">flash()</span></code> function would probably
return English text and a now German page.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flask_babel.force_locale">
<span class="sig-prename descclassname"><span class="pre">flask_babel.</span></span><span class="sig-name descname"><span class="pre">force_locale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locale</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_babel.html#force_locale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flask_babel.force_locale" title="Permalink to this definition">#</a></dt>
<dd><p>Temporarily overrides the currently selected locale.</p>
<p>Sometimes it is useful to switch the current locale to different one, do
some tasks and then revert back to the original one. For example, if the
user uses German on the website, but you want to email them in English,
you can use this function as a context manager:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">force_locale</span><span class="p">(</span><span class="s1">&#39;en_US&#39;</span><span class="p">):</span>
    <span class="n">send_email</span><span class="p">(</span><span class="n">gettext</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>locale</strong> – The locale to temporary switch to (ex: ‘en_US’).</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020, Armin Ronacher
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Flask-Babel</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#jinja-filters">Jinja Filters</a></li>
<li><a class="reference internal" href="#formatting-dates">Formatting Dates</a></li>
<li><a class="reference internal" href="#formatting-numbers">Formatting Numbers</a></li>
<li><a class="reference internal" href="#using-translations">Using Translations</a></li>
<li><a class="reference internal" href="#translating-applications">Translating Applications</a></li>
<li><a class="reference internal" href="#reloading-translations">Reloading Translations</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li><a class="reference internal" href="#api">API</a><ul>
<li><a class="reference internal" href="#id1">Configuration</a><ul>
<li><a class="reference internal" href="#flask_babel.Babel"><code class="docutils literal notranslate"><span class="pre">Babel</span></code></a><ul>
<li><a class="reference internal" href="#flask_babel.Babel.default_locale"><code class="docutils literal notranslate"><span class="pre">Babel.default_locale</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.Babel.default_timezone"><code class="docutils literal notranslate"><span class="pre">Babel.default_timezone</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.Babel.domain"><code class="docutils literal notranslate"><span class="pre">Babel.domain</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.Babel.domain_instance"><code class="docutils literal notranslate"><span class="pre">Babel.domain_instance</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.Babel.init_app"><code class="docutils literal notranslate"><span class="pre">Babel.init_app()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.Babel.list_translations"><code class="docutils literal notranslate"><span class="pre">Babel.list_translations()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#context-functions">Context Functions</a><ul>
<li><a class="reference internal" href="#flask_babel.get_translations"><code class="docutils literal notranslate"><span class="pre">get_translations()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.get_locale"><code class="docutils literal notranslate"><span class="pre">get_locale()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.get_timezone"><code class="docutils literal notranslate"><span class="pre">get_timezone()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datetime-functions">Datetime Functions</a><ul>
<li><a class="reference internal" href="#flask_babel.to_user_timezone"><code class="docutils literal notranslate"><span class="pre">to_user_timezone()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.to_utc"><code class="docutils literal notranslate"><span class="pre">to_utc()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.format_datetime"><code class="docutils literal notranslate"><span class="pre">format_datetime()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.format_date"><code class="docutils literal notranslate"><span class="pre">format_date()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.format_time"><code class="docutils literal notranslate"><span class="pre">format_time()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.format_timedelta"><code class="docutils literal notranslate"><span class="pre">format_timedelta()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#number-functions">Number Functions</a><ul>
<li><a class="reference internal" href="#flask_babel.format_number"><code class="docutils literal notranslate"><span class="pre">format_number()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.format_decimal"><code class="docutils literal notranslate"><span class="pre">format_decimal()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.format_currency"><code class="docutils literal notranslate"><span class="pre">format_currency()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.format_percent"><code class="docutils literal notranslate"><span class="pre">format_percent()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.format_scientific"><code class="docutils literal notranslate"><span class="pre">format_scientific()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gettext-functions">Gettext Functions</a><ul>
<li><a class="reference internal" href="#flask_babel.gettext"><code class="docutils literal notranslate"><span class="pre">gettext()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.ngettext"><code class="docutils literal notranslate"><span class="pre">ngettext()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.pgettext"><code class="docutils literal notranslate"><span class="pre">pgettext()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.npgettext"><code class="docutils literal notranslate"><span class="pre">npgettext()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.lazy_gettext"><code class="docutils literal notranslate"><span class="pre">lazy_gettext()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.lazy_pgettext"><code class="docutils literal notranslate"><span class="pre">lazy_pgettext()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.lazy_npgettext"><code class="docutils literal notranslate"><span class="pre">lazy_npgettext()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#low-level-api">Low-Level API</a><ul>
<li><a class="reference internal" href="#flask_babel.refresh"><code class="docutils literal notranslate"><span class="pre">refresh()</span></code></a></li>
<li><a class="reference internal" href="#flask_babel.force_locale"><code class="docutils literal notranslate"><span class="pre">force_locale()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>